(()=>{let e=document.cookie;const t="ulyl_cookie";let o=Object.getOwnPropertyDescriptor(Document.prototype,"cookie");Object.defineProperty(Document.prototype,t,o),Object.defineProperty(Document.prototype,"cookie",{enumerable:!0,configurable:!0,get(){return this[t]},set(o){this[t]=o;let c=this[t];if(c!==e)try{let t={oldValue:e,newValue:c};this.dispatchEvent(new CustomEvent("cookiechange",{detail:t})),n.postMessage(t)}finally{e=c}}});const n=new BroadcastChannel("cookie-channel");n.onmessage=t=>{e=t.data.newValue,document.dispatchEvent(new CustomEvent("cookiechange",{detail:t.data}))}})(),document.addEventListener("cookiechange",(({detail:{oldValue:e,newValue:t}})=>{}));